<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <!-- Character set and viewport configuration for responsiveness -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <!-- Theme color for browser UI elements and mobile PWA configurations -->
    <meta name="theme-color" content="#2563eb">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    
    <!-- Page title -->
    <title>تفاصيل العقار - عقار</title>
    
    <!-- External stylesheets: Font Awesome for icons and Google Fonts for typography -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- App stylesheets: main styles, component styles, and page-specific styles -->
    <link rel="stylesheet" href="styles/common/main.css">
    <link rel="stylesheet" href="styles/components/components.css">
    <link rel="stylesheet" href="styles/pages/property-details-inline.css">
</head>
<body>
    <!-- Main container for the entire application -->
    <div class="app-container">
        <!-- Transparent header that overlays the property image -->
        <header class="app-header" style="background-color: transparent; position: absolute; box-shadow: none; z-index: 10; padding-top: var(--safe-area-top);">
            <div class="app-header-action">
                <!-- Back button to navigate to previous page -->
                <a href="index.html" class="back-button">
                    <i class="fas fa-arrow-right"></i>
                </a>
            </div>
            <div class="app-title" style="color: transparent;">
                <!-- Transparent title for layout purposes only -->
            </div>
            <div class="app-header-action">
            </div>
        </header>

        <!-- Main content container -->
        <div class="app-content property-details-container" id="propertyContent" style="padding-top: var(--safe-area-top);">
            <!-- Loading indicator (shown until property data is loaded) -->
            <div id="loadingIndicator" class="text-center py-5" style="min-height: 80vh; display: flex; flex-direction: column; justify-content: center;">
                <i class="fas fa-spinner fa-spin fa-2x"></i>
                <p class="mt-3">جاري تحميل تفاصيل العقار...</p>
            </div>
            
            <!-- Property details content (initially hidden, shown after loading) -->
            <div id="propertyDetails" style="display: none;">
                <!-- Property image gallery -->
                <div class="property-gallery">
                    <img src="img/placeholder.jpg" alt="Property" id="propertyMainImage">
                    <!-- Gallery navigation dots -->
                    <div class="property-gallery-nav">
                        <div class="gallery-dot gallery-dot--active"></div>
                        <div class="gallery-dot"></div>
                        <div class="gallery-dot"></div>
                        <div class="gallery-dot"></div>
                    </div>
                </div>

                <!-- Property details sections -->
                <div class="container py-3">
                    <!-- Basic property information section -->
                    <div class="property-section">
                        <!-- Property title (populated by JavaScript) -->
                        <h1 class="property-card__title" id="propertyTitle">جاري التحميل...</h1>
                        <!-- Property location (populated by JavaScript) -->
                        <div class="property-card__location mt-2" id="propertyLocation">
                            <i class="fas fa-map-marker-alt property-card__location-icon"></i>
                            جاري التحميل...
                        </div>
                        <!-- Property price (populated by JavaScript) -->
                        <div class="property-card__price mt-2" id="propertyPrice">جاري التحميل...</div>
                    </div>

                    <!-- Property features section -->
                    <div class="property-section">
                        <h2 class="property-section-title">المميزات</h2>
                        <!-- Features list displaying property attributes -->
                        <div class="property-feature-list">
                            <!-- Bedrooms feature -->
                            <div class="property-feature-item">
                                <div class="property-feature-icon">
                                    <i class="fas fa-bed"></i>
                                </div>
                                <div>
                                    <div>غرف النوم</div>
                                    <div style="font-weight: 600;" id="propertyBedrooms">-</div>
                                </div>
                            </div>
                            <!-- Bathrooms feature -->
                            <div class="property-feature-item">
                                <div class="property-feature-icon">
                                    <i class="fas fa-bath"></i>
                                </div>
                                <div>
                                    <div>الحمامات</div>
                                    <div style="font-weight: 600;" id="propertyBathrooms">-</div>
                                </div>
                            </div>
                            <!-- Area feature -->
                            <div class="property-feature-item">
                                <div class="property-feature-icon">
                                    <i class="fas fa-ruler-combined"></i>
                                </div>
                                <div>
                                    <div>المساحة</div>
                                    <div style="font-weight: 600;" id="propertyArea">-</div>
                                </div>
                            </div>
                            <!-- Garage feature -->
                            <div class="property-feature-item">
                                <div class="property-feature-icon">
                                    <i class="fas fa-car"></i>
                                </div>
                                <div>
                                    <div>الجراج</div>
                                    <div style="font-weight: 600;">2 سيارة</div>
                                </div>
                            </div>
                            <!-- Build year feature -->
                            <div class="property-feature-item">
                                <div class="property-feature-icon">
                                    <i class="fas fa-calendar-alt"></i>
                                </div>
                                <div>
                                    <div>سنة البناء</div>
                                    <div style="font-weight: 600;">2020</div>
                                </div>
                            </div>
                            <!-- Swimming pool feature -->
                            <div class="property-feature-item">
                                <div class="property-feature-icon">
                                    <i class="fas fa-swimming-pool"></i>
                                </div>
                                <div>
                                    <div>حمام سباحة</div>
                                    <div style="font-weight: 600;">نعم</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Property description section -->
                    <div class="property-section">
                        <h2 class="property-section-title">الوصف</h2>
                        <div id="propertyDescriptionContainer">
                            <!-- Property description (populated by JavaScript) -->
                            <p id="propertyDescription">جاري التحميل...</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Error container (shown when property loading fails) -->
            <div id="errorContainer" style="display: none;" class="text-center py-5">
                <i class="fas fa-exclamation-triangle fa-2x" style="color: var(--danger-color);"></i>
                <p class="mt-3" id="errorMessage">حدث خطأ في تحميل العقار</p>
                <a href="index.html" class="btn btn--primary mt-3">العودة إلى الرئيسية</a>
            </div>
        </div>

        <!-- Fixed property action buttons at the bottom -->
        <div class="property-actions" id="propertyActions" style="display: none;">
            <!-- Add to favorites button -->
            <a href="#" class="property-action-btn" id="favoriteBtn" data-property-id="">
                <i class="far fa-heart"></i>
                <span>المفضلة</span>
            </a>
            <!-- Call property owner button -->
            <a href="tel:+9665570006461" class="property-action-btn">
                <i class="fas fa-phone-alt"></i>
                <span>اتصال</span>
            </a>
        </div>
    </div>

    <!-- JavaScript module for handling property details functionality -->
    <script type="module" src="scripts/pages/property-details.js"></script>
</body>
</html>